# Copiar este archivo a .env y completar con tus valores

# RPC URL para Base mainnet
# Obtén un endpoint gratuito en: https://www.alchemy.com/ o https://infura.io/
RPC_URL_BASE=https://mainnet.base.org

# Modo Fallback RPC (gratuito pero más lento)
# Usar cuando se agota el límite mensual de Alchemy
# USE_FALLBACK_RPC=true  # Activa modo fallback (solo forward, sin histórico)
# FALLBACK_RPC_URL=https://mainnet.base.org  # RPC público de Base (default)
# FALLBACK_START_BLOCK=38293582  # Bloque de inicio para modo fallback

# Configuración de Supabase
# Estas variables se generan automáticamente cuando conectas Vercel con Supabase
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_SERVICE_ROLE_KEY=tu-service-role-key-aqui

# Dirección del contrato FloorEngine (ya configurada, no cambiar)
CONTRACT_ADDRESS=0x0351F7cBA83277E891D4a85Da498A7eACD764D58

# Bloque inicial para sincronización histórica de FloorEngine (opcional)
# Si no se especifica, comenzará desde el bloque 0
# Puedes usar el bloque de deployment del contrato para optimizar
START_BLOCK=

# Configuración de sincronización
# Número de bloques a procesar por request (default: 10 para Alchemy Free)
BLOCKS_PER_BATCH=10

# Número de requests paralelos (default: 3)
PARALLEL_REQUESTS=3

# Intervalo de sincronización en minutos (default: 1 para sync rápido, usar 5 para normal)
SYNC_INTERVAL_MINUTES=1

# Configuración de intercalación de contratos
# Número de batches a procesar por contrato antes de alternar al siguiente
# Por defecto: 50 batches (procesa 50 batches de FloorEngine, luego 50 de ERC20, y así sucesivamente)
# Esto asegura que ambos contratos se mantengan actualizados simultáneamente
BATCHES_PER_CONTRACT=50

# Secreto para proteger el endpoint de cron (opcional pero recomendado)
# Genera uno con: openssl rand -base64 32
CRON_SECRET=tu-secreto-aleatorio-aqui

# Pausar sincronización histórica (backwards)
# Valores: "pause" (pausado, por defecto) o "resume"/"false" (activado)
PAUSE_BACKWARDS=pause

# ============================================================================
# CONFIGURACIÓN DE API SQLite (alternativa a Supabase)
# ============================================================================

# Activar para usar API SQLite en lugar de Supabase
# USE_DB_API=true

# URL del backend API SQLite
# DB_API_URL=http://localhost:3000

# API key para autenticación con el backend SQLite
# DB_API_KEY=tu-api-key-aqui

